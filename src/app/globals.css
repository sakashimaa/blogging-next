@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

/* Notion-like TipTap styles */
.tiptap {
  line-height: 1.7;
  color: inherit;
}

.tiptap p {
  margin: 0.6rem 0;
}
.tiptap h1,
.tiptap h2,
.tiptap h3 {
  line-height: 1.25;
  font-weight: 700;
  margin: 1.2em 0 0.4em;
}
.tiptap h1 {
  font-size: 2rem;
}
.tiptap h2 {
  font-size: 1.5rem;
}
.tiptap h3 {
  font-size: 1.25rem;
}

.tiptap ul {
  list-style: disc;
  padding-left: 1.5rem;
  margin: 0.5rem 0;
}
.tiptap ol {
  list-style: decimal;
  padding-left: 1.5rem;
  margin: 0.5rem 0;
}
.tiptap li > p {
  margin: 0.2rem 0;
}

.tiptap blockquote {
  border-left: 3px solid #d1d5db; /* gray-300 */
  padding-left: 1rem;
  margin: 1rem 0;
  color: #4b5563; /* gray-600 */
}
.dark .tiptap blockquote {
  border-color: #374151; /* gray-700 */
  color: #9ca3af; /* gray-400 */
}

.tiptap a {
  color: #2563eb; /* blue-600 */
  text-decoration: underline;
  text-underline-offset: 2px;
}
.dark .tiptap a {
  color: #60a5fa; /* blue-400 */
}

.tiptap code {
  background: #f5f5f5; /* neutral-100-ish */
  border-radius: 4px;
  padding: 0.1rem 0.35rem;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;
  font-size: 0.9em;
}
.dark .tiptap code {
  background: #1f2937; /* gray-800/900 */
}

.tiptap pre {
  background: #f5f5f5; /* neutral-100-ish */
  border-radius: 0.5rem;
  padding: 1rem;
  overflow-x: auto;
  margin: 1rem 0;
}
.tiptap pre code {
  background: transparent;
  padding: 0;
  font-size: 0.9rem;
}
.dark .tiptap pre {
  background: #111827; /* gray-900 */
}

.tiptap hr {
  border: none;
  border-top: 1px solid #e5e7eb; /* gray-200 */
  margin: 1.5rem 0;
}
.dark .tiptap hr {
  border-top-color: #1f2937; /* gray-800/900 */
}

.tiptap img {
  max-width: 100%;
  height: auto;
  border-radius: 0.5rem;
  margin: 0.75rem 0;
}

/* Task list (Notion-like) */
.tiptap ul[data-type='taskList'] {
  list-style: none;
  padding-left: 0;
}
.tiptap ul[data-type='taskList'] li {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
}
.tiptap ul[data-type='taskList'] li > label {
  margin-top: 0.25rem;
}
.tiptap ul[data-type='taskList'] li > div {
  flex: 1;
}

/* Placeholder styling similar to Notion */
.tiptap p.is-editor-empty:first-child::before {
  color: #9ca3af; /* gray-400 */
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

/* Tables (basic) */
.tiptap table {
  border-collapse: collapse;
  width: 100%;
  overflow: hidden;
  border-radius: 0.5rem;
}
.tiptap th,
.tiptap td {
  border: 1px solid #e5e7eb; /* gray-200 */
  padding: 0.5rem 0.75rem;
}
.tiptap th {
  background: #f9fafb; /* gray-50 */
  font-weight: 600;
}
.dark .tiptap th,
.dark .tiptap td {
  border-color: #1f2937; /* gray-800/900 */
}
.dark .tiptap th {
  background: #111827; /* gray-900 */
}

/* Utilities */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2; /* standard property for compatibility */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

:root {
  --sidebar: hsl(0 0% 98%);
  --sidebar-foreground: hsl(240 5.3% 26.1%);
  --sidebar-primary: hsl(240, 80%, 41%);
  --sidebar-primary-foreground: hsl(0 0% 98%);
  --sidebar-accent: hsl(240 4.8% 95.9%);
  --sidebar-accent-foreground: hsl(240 5.9% 10%);
  --sidebar-border: hsl(220 13% 91%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
}

.dark {
  --sidebar: hsl(240 5.9% 10%);
  --sidebar-foreground: hsl(240 4.8% 95.9%);
  --sidebar-primary: hsl(224.3 76.3% 48%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(240 3.7% 15.9%);
  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --sidebar-border: hsl(240 3.7% 15.9%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
}

/* Tailwind v4 design tokens and base layer */
@theme inline {
  /* Base app tokens used by classes like bg-background, text-foreground, border-border, outline-ring */
  --color-background: 0 0% 100%;
  --color-foreground: 222.2 84% 4.9%;
  --color-border: 214.3 31.8% 91.4%;
  --color-ring: 217.2 91.2% 59.8%;

  /* Sidebar tokens mapped from your CSS variables */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* Dark theme overrides for base tokens */
.dark {
  --color-background: 240 10% 3.9%;
  --color-foreground: 0 0% 98%;
  --color-border: 240 3.7% 15.9%;
  --color-ring: 217.2 91.2% 59.8%;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
